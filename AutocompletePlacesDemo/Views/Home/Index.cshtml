<!DOCTYPE html>
<html>
<body>

    <div class="row">
        <div class="col-md-4">
            <form method="post">
                <div class="form-group">
                    <div class="form-group">
                        <label class="control-label">Enter your address</label>
                        <input class="form-control" id="autocomplete"
                               onFocus="geolocate()"
                               type="text" />
                    </div>
                    <div class="form-group">
                        <label class="control-label">Number</label>
                        <input class="form-control" id="street_number" disabled="disabled" />
                    </div>
                    <div class="form-group">
                        <label class="control-label">Street Name</label>
                        <input class="form-control" id="route" disabled="disabled" />
                    </div>
                    <div class="form-group">
                        <label class="control-label">City</label>
                        <input class="form-control" id="locality" disabled="disabled" />
                    </div>
                    <div class="form-group">
                        <label class="control-label">State</label>
                        <input class="form-control" id="administrative_area_level_1" disabled="disabled" />
                    </div>
                    <div class="form-group">
                        <label class="control-label">Zip Code</label>
                        <input class="form-control" id="postal_code" disabled="disabled" />
                    </div>
                    <div class="form-group">
                        <label class="control-label">Country</label>
                        <input class="form-control" id="country" disabled="disabled" />
                    </div>
                    <div class="form-group col-md-4">
                        <input type="button" id="btn" class="btn btn-info" value="Search" />
                    </div>
                </div>
            </form>
        </div>
    </div>
</body>
</html>

@*TO DO: Don't forget to restrict the use of the API key!*@

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCP7nYf8IDBRbwyHRENWttxzb5zKV2fSI4&libraries=places&callback=initAutocomplete" defer></script>
<script type="text/javascript">
    $(document).ready(function () {

        //***Might be able to set autocomplete = null if we wait longer
        var autocomplete = new google.maps.places.Autocomplete(
            document.getElementById('autocomplete'), { types: ['geocode'] });

        autocomplete.addListener('place_changed', fillInAddress);

        var componentForm = {
            street_number: 'short_name',
            route: 'long_name',
            locality: 'long_name',
            administrative_area_level_1: 'short_name',
            country: 'long_name',
            postal_code: 'short_name'
        };

        function initAutocomplete() {

            autocomplete = new google.maps.places.Autocomplete(
                document.getElementById('autocomplete'), { types: ['geocode'] });

            autocomplete.setFields(['address_component']);


            // When the user selects an address from the drop-down, populate the
            // address fields in the form.
            //  alert("133");
            autocomplete.addListener('place_changed', fillInAddress);
        };
        //  google.maps.event.addDomListener(window, 'load', initAutocomplete());


        function fillInAddress() {
            //document.fillInAddress = (function () {
            // Get the place details from the autocomplete object.

            var place = autocomplete.getPlace();

            for (var component in componentForm) {

                document.getElementById(component).value = '';
                document.getElementById(component).disabled = false;

            }
            // Get each component of the address from the place details,
            // and then fill-in the corresponding field on the form.
            for (var i = 0; i < place.address_components.length; i++) {

                var addressType = place.address_components[i].types[0];

                if (componentForm[addressType]) {
                    var val = place.address_components[i][componentForm[addressType]];
                    document.getElementById(addressType).value = val;
                }
            }
        };

        function geolocate() {

            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(function (position) {
                    var geolocation = {
                        lat: position.coords.latitude,
                        lng: position.coords.longitude
                    };
                    var circle = new google.maps.Circle(
                        { center: geolocation, radius: position.coords.accuracy });
                    autocomplete.setBounds(circle.getBounds());
                });
            }
        };
        $("#btn").click(function () {
            initAutocomplete();
        });


    });
</script>


           